# INFO: Tag apps directly first
windowrule = tag +launcher, match:title (rofi)

windowrule = tag +chat, match:class ^(vesktop)$
windowrule = tag +chat, match:class ^([Ss]lack)$
windowrule = tag +chat, match:class ([Ss]ignal), match:title ([Ss]ignal)

windowrule = tag +browser, match:class ^([Cc]hromium)$
# windowrule = tag +browser, class:^(zen)$

windowrule = tag +browser_popup, match:class ^(zen)$, match:title (File Upload)
windowrule = tag +bitwarden, match:class ^(zen)$ match:title (Extension: (Bitwarden Password Manager) - Bitwarden — Zen Browser)
# windowrule = tag +browser_popup, class:^(zen)$, match:title (Extension\: [a-zA-Z\(\)\ \-\—]+)

windowrule = tag +pip, match:class ^(zen)$, match:title ^(Picture-in-Picture)$
windowrule = tag +sticky_note, match:class ^(primenote)$

windowrule = tag +wallpapers, match:title ^(waypaper)$

windowrule = tag +drop_term, match:title ^(foot-drop)$
windowrule = tag +task_manager, match:title ^(foot-tasks)$

windowrule = tag +overview, match:title ^(foot-overview)$
windowrule = tag +overview, match:title ^(foot-overview-fetch)$
windowrule = tag +overview, match:title ^(foot-overview-term)$

windowrule = tag +overview_fetch, match:title ^(foot-overview-fetch)$
windowrule = tag +overview_term, match:title ^(foot-overview-term)$


windowrule = tag +volume_settings, match:class ^(org.pulseaudio.pavucontrol)$
windowrule = tag +bluetooth_settings, match:class ^(blueman-manager)$
windowrule = tag +settings, match:class ^(nwg-look)$

windowrule = tag +steam_client, match:class (steam), match:title (Steam)
windowrule = tag +steam_popup, match:class (steam), match:title (Steam - Browser)
windowrule = tag +steam_friends, match:class (steam), match:title (Friends List)
windowrule = tag +steam_game, match:class (steam_app_[0-9]+)
windowrule = tag +steam_game, match:class ^(gamescope)$

# INFO: Shimeji
# windowrule = match:tag +shimeji, match:title ^(Shijima-Qt)$
# windowrule = match:tag +shimeji, match:class (com-group_finity-mascot-Main)

windowrule = tag +settings, match:tag volume_settings
windowrule = tag +settings, match:tag bluetooth_settings
windowrule = tag +settings, match:tag waypaper

# INFO: meta tags to make writing rules a little easier

windowrule = tag +floats, match:tag browser_popup
windowrule = tag +floats, match:tag pip
windowrule = tag +floats, match:tag sticky_note
windowrule = tag +floats, match:tag settings
windowrule = tag +floats, match:tag drop_term
windowrule = tag +floats, match:tag task_manager
windowrule = tag +floats, match:tag steam_friends
windowrule = tag +floats, match:tag bitwarden


windowrule = tag +pin, match:tag settings
windowrule = tag +pin, match:tag pip
windowrule = tag +pin, match:tag bitwarden
windowrule = tag +pin, match:tag sticky_note

windowrule = tag +anti_idle, match:tag browser
windowrule = tag +anti_idle, match:tag steam_game

windowrule = tag +opaque, match:tag overview
windowrule = tag +opaque, match:tag settings
windowrule = tag +opaque, match:tag drop_term

# INFO: special rules applied via tags
windowrule = pin on, match:tag pin

windowrule = float on, match:tag floats
windowrule = no_blur on, match:tag floats
windowrule = no_blur on, match:float true

windowrule = opaque on, match:tag opaque


windowrule = idle_inhibit fullscreen, match:fullscreen true, match:tag anti_idle

windowrule = persistent_size true, match:tag settings

windowrule = animation popin, match:tag launcher


# INFO: special placements

windowrule = animation slide right, match:tag steam_friends
windowrule = size 300 monitor_h, match:tag steam_friends
windowrule = move (monitor_w-window_w) 0, match:tag steam_friends

windowrule = size 350 350, match:tag bluetooth_settings
windowrule = move ((monitor_w/2)-(window_w/2)) (monitor_h-window_h-84), match:tag bluetooth_settings

windowrule = size 700 400, match:tag volume_settings
windowrule = move (monitor_w-window_w-16) (monitor_h-window_h-84), match:tag volume_settings

windowrule = size 100% 700, match:tag drop_term
windowrule = move 0 0, match:tag drop_term
windowrule = focus_on_activate true, match:tag drop_term

windowrule = size 100% 60%, match:tag task_manager
windowrule = move 0 0, match:tag task_manager

windowrule = focus_on_activate true, match:tag foot-overview

# windowrule = size 60% 60%, match:tag overview
# windowrule = move 0 0, match:tag overview
#
# windowrule = size 40% 60%, match:tag overview_fetch
# windowrule = move 100%-w-16 0, match:tag overview_fetch
#
# windowrule = size 10% 40%, match:tag overview_term
# windowrule = move 0 40%, match:tag overview_term


windowrule = animation slide left, match:tag pip
windowrule = size (monitor_w/3) (monitor_h/3), match:tag pip
windowrule = move (monitor_w-window_w-16) (monitor_h-window_h-84), match:tag pip
windowrule = opaque true, match:tag pip

# WARN: for some reason the ffox core hates floating windows 
# via wayland rules

windowrule = animation slide top, match:tag bitwarden
windowrule = size 300 550, match:tag bitwarden
windowrule = center true, match:tag bitwarden
 
windowrule = float true, match:class ^(zen)$, match:title (Sign in - Google Accounts — Zen Browser)
windowrule = center true, match:class ^(zen)$, match:title (Sign in - Google Accounts — Zen Browser)
windowrule = opaque true, match:class ^(zen)$, match:title (Sign in - Google Accounts — Zen Browser)
windowrule = animation slide top, match:class ^(zen)$, match:title (Sign in - Google Accounts — Zen Browser)

# INFO: decoration overrides
windowrule = rounding 0, match:tag drop_term
windowrule = rounding 0, match:tag steam_game
windowrule = rounding 0, match:tag steam_friends

# INFO: additional special rules
windowrule = stay_focused true, match:tag steam_game
windowrule = focus_on_activate true, match:tag steam_game
windowrule = content game, match:tag steam_game


# INFO: launch tags in workspace
windowrule = workspace $DROP_TERM silent, match:tag drop_term
windowrule = workspace $TASK_MANAGER silent, match:tag task_manager
windowrule = workspace $OVERVIEW silent, match:tag overview

windowrule = workspace 3 silent, match:tag chat

windowrule = workspace 6, match:tag steam_game

windowrule = workspace 4 silent, match:tag steam_client
windowrule = workspace 4 silent, match:tag steam_friends
windowrule = workspace 4 silent, match:tag steam_popup

windowrule = animation slide bottom, match:tag volume_settings
windowrule = animation slide bottom, match:tag bluetooth_settings

windowrule = animation gnomed, match:tag sticky_note



# INFO: global rule
# BUG: I think this is the cause of a ton of my problems
# windowrule = suppressevent maximize, match:class .*

################################
#
# BUG: Shimeji not working
# windowrule = nofocus, match:tag shimeji
# windowrule = decorate 0, match:tag shimeji
# windowrule = immediate 1, match:tag shimeji
# windowrule = noblur, match:tag shimeji
# windowrule = noshadow, match:tag shimeji
# windowrule = noborder, match:tag shimeji
#
################################
